"use strict";var mainMD=document.getElementById("mainMD"),active=!1,mouseOnMenu=!1;function mouseStatus(e){mouseOnMenu=e}function showMenu(){active=!0,mainMD.classList.add("showMenu"),document.body.addEventListener("scroll",function(){mouseOnMenu||hideMenu()}),document.getElementById("main").addEventListener("click",hideMenu);for(var e=document.getElementById("mainMD").getElementsByTagName("li"),n=0;n<e.length;n++)e[n].addEventListener("click",function(){hideMenu()})}function loadAnimation(){document.body.insertAdjacentHTML("afterbegin",'<div id="loader"><div></div></div>'),document.getElementById("main").style.filter="grayscale(100%)"}function hideMenu(){active&&(mainMD.classList.remove("showMenu"),active=!1,document.removeEventListener("scroll",hideMenu),document.getElementById("main").removeEventListener("click",hideMenu))}Array.from(document.getElementsByClassName("focusable")).forEach(function(e){e.addEventListener("focus",showMenu)}),document.getElementById("mainM").addEventListener("click",showMenu),window.addEventListener("beforeunload",loadAnimation);for(var portraitCards=document.getElementsByClassName("contactable"),i=0;i<portraitCards.length;i++){var contact=portraitCards[i];contact.addEventListener("click",function(){cardEvent(this)})}var onloadCallback=function(){grecaptcha.render("reCaptcha",{sitekey:"6LegdCkTAAAAANnQ7DNBVr7TxPgLM1wXeFrkNOhn"}).catch(function(e){})},mainOld="";function cardEvent(e){null!=e.id&&(console.log(e.id),loadHTMLCode("/form/personal_contact.html").then(function(e){mainOld=document.getElementById("main").innerHTML,document.getElementById("main").innerHTML=e,onloadCallback();document.getElementById("kontaktformular")}))}function uebermittle(){0!==grecaptcha.getResponse().length?(form.action=actionPHP,form.submit()):document.getElementById("reCaptcha").getElementsByTagName("iframe")[0].style.border="1px solid #dd4b39"}function fullScreen(e){fullScreenImg.style.disply="block",fullScreenImg.src=e.src,fullScreenImg.requestFullscreen?fullScreenImg.requestFullscreen():fullScreenImg.webkitRequestFullscreen?fullScreenImg.webkitRequestFullscreen():fullScreenImg.mozRequestFullScreen?fullScreenImg.mozRequestFullScreen():fullScreenImg.msRequestFullscreen&&fullScreenImg.msRequestFullscreen(),document.addEventListener("keydown",function(e){keyListner(e)})}document.body.insertAdjacentHTML("afterbegin",'<img alt="Cevi ZÃ¼ri 11 - Vollbild" style="height: 0" id="fullScreenImg" />');var fullScreenImg=document.getElementById("fullScreenImg"),imgs=document.getElementsByClassName("fullscreen");function keyListner(e){if(39==e.keyCode){var n=getIndex();console.log(n),n<imgs.length-1?changeSrc(n+1):changeSrc(0)}else if(37==e.keyCode){changeSrc(0<(n=getIndex())?n-1:imgs.length-1)}}function getIndex(){for(var e=0;e<imgs.length;e++)if(imgs[e].currentSrc==fullScreenImg.src)return e}function changeSrc(e){fullScreenImg.src=imgs[e].currentSrc}function loadHTMLCode(r){return new Promise(function(e,n){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&e(this.responseText)},t.open("GET",r,!0),t.send()})}Array.from(imgs).forEach(function(e){e.addEventListener("click",function(e){fullScreen(e.target)})}),"serviceWorker"in navigator&&"PushManager"in window?(console.log("[ServiceWorker] ServiceWorker and Push is supported"),window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("[ServiceWorker] Registration successful: ",e)},function(e){console.log("[ServiceWorker] Registration failed: ",e)})})):(console.warn("[ServiceWorker] Push messaging is not supported"),pushButton.textContent="[ServiceWorker] Push Not Supported"),setTimeout(function(){var e,n,t,r;e=document,n="script",t=e.createElement(n),r=e.getElementsByTagName(n)[0],t.src="https://cdn.pushalert.co/integrate_3c3b7df02e6f9cccf523640784ef0104.js",r.parentNode.insertBefore(t,r),setTimeout(function(){PushAlertCo.clearPAFirstTime(!1),PushAlertCo.forceSubscribe()},2500),console.log("[Push Notification] Registrated")},1e4);
//# sourceMappingURL=global.min.js.map
